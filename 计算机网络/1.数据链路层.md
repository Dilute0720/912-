>在同一个局域网, 分组怎样从一个主机传送到另一个主机.

## 总纲

### 传统的数据链路层: 点对点通信链路

1. **数据链路层概述**
   - 定义
   - 功能
   - 服务访问点（SAP）

2. **数据链路层的组成**
   - 逻辑链路控制层(Logical Link Control, LLC): 在网络层包前加入Src/Dest地址服务接入点
   - 媒体访问控制层(Medium Access Control, MAC): 用于解决信道冲突占用问题, 例如CSMA/CD方式

3. **点对点协议PPP(Point-to-Point Protocol)**
   - 协议内容:  
	   - 每接收到一个帧, 进行CRC检验, 正确则收下, 反之则丢弃.
	   - 网络层地址协商
	   - 数据压缩协商
   - 帧结构
	   - 帧的组成部分
		   - 首部: 四个字段
			   1. Flag: 0x7E(0b01111110)
			   2. Address: 0xFF
			   3. Control: 0x03
			   4. Protocol: 2Bytes, 如0x0021表示IP数据报 
		   - 信息字段: 不超过1500Bytes
			   - 字节填充: 当信息字段中出现Flag时防止误判需要将0x7E转义成0x7D5E, 将0x7D转义成0x7D5D. 也就是说在接收方译码时遇到0x7D时根据下一个Byte内容进行译码.
			   - 零比特填充: 在信息字段中每看到5个1就添加一个0, 这样可以保证信息字段中不会出现标志字段Flag, 解码时每看到111110则把这个0去掉即可.
		   - 尾部: 两个字段
			   1. 帧检验序列(FCS): 使用循环冗余检测算法CRC计算得出
			   2. Flag: 0x7E
   - 链路建立
	   - LCP配置协商: 一个信息字段包含特定配置请求的PPP帧
	   - 鉴别: 使用特定鉴别协议确认身份
	   - 网络层协议: 允许PPP协议两端的网络层运行不同的网络层协议


4. **错误检测与纠正**
   - 奇偶校验
   - 循环冗余检验(CRC)

### 采取广播方式的数据链路层: 局域网

局域网的内容横跨数据链路层和物理层,作为一种共享信道, 需要着重考虑的问题就是如何使众多用户能够合理而方便地共享通信媒体资源. 静态的, 可以使用频分/时分复用等技术, 动态的, 可以采取 **随机接入** 和 **轮询接入**

IEEE 802委员会把局域网的数据链路层拆成两个子层，即逻辑链路控制 LLC (Logical Link Control)子层和媒体接入控制MAC (Medium Access Control)子层。与接入到传输媒体有关的内容都放在MAC子层，而LLC子层则与传输媒体无关，不管采用何种传输媒体和MAC子层的局域网对LLC子层来说都是透明的. LLC层就略过不表.

5. **媒体访问控制(MAC)协议**
   - 随机访问协议（如CSMA/CD）: 监听2$\tau$ 的时间里有没有主机抢占信道,这个$2\tau$的时间就被称作**争用期**.
   - 轮询协议
   - 令牌传递协议

6. **网桥和交换机**

   以太网是有范围的, 例如铜线作为导体的以太网的有效通信范围为100米, 如果是在物理层扩展以太网, 就要通过集线器将多个以太网链接起来. 但是此时多个以太网互连的网络吞吐量依然是单个以太网的吞吐量, 在数量庞大时速率损失问题尤为严重.
   
   因此我们

   - 网桥的概念
   - 网桥的工作原理
   - 网桥自学习算法

7. **网桥自学习算法**
   - 算法原理
   - 学习过程
   - 转发与过滤决策

8. **数据链路层的高级概念**
   - 虚拟局域网(VLAN)
   - 服务质量(QoS)
   - 安全性

9. **案例分析与应用**
   - 网桥在实际网络中的应用
   - 性能评估

10. **总结与展望**
    - 数据链路层的重要性
    - 未来发展趋势


